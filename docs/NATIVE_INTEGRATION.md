# åŸç”Ÿå»ºè®®é›†æˆè¯´æ˜

## åŠŸèƒ½æ¦‚è¿°

ç¿»è¯‘å»ºè®®ç°åœ¨å¯ä»¥ç›´æ¥é›†æˆåˆ°æœç´¢å¼•æ“çš„åŸç”Ÿè‡ªåŠ¨å»ºè®®ä¸‹æ‹‰åˆ—è¡¨ä¸­ï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºä¸ºç‹¬ç«‹çš„æµ®å±‚ã€‚è¿™æä¾›äº†æ›´åŠ æ— ç¼çš„ç”¨æˆ·ä½“éªŒã€‚

## å·¥ä½œåŸç†

### åŒæ¨¡å¼æ”¯æŒ

æ‰©å±•æ”¯æŒä¸¤ç§æ˜¾ç¤ºæ¨¡å¼ï¼š

1. **åŸç”Ÿé›†æˆæ¨¡å¼**ï¼ˆé»˜è®¤ï¼‰
   - ç¿»è¯‘å»ºè®®æ˜¾ç¤ºåœ¨æœç´¢å¼•æ“çš„åŸç”Ÿå»ºè®®åˆ—è¡¨ä¸­
   - ä½œä¸ºç¬¬ä¸€ä¸ªå»ºè®®é¡¹å‡ºç°
   - ä¸å…¶ä»–æœç´¢å»ºè®®æ— ç¼èåˆ
   - ç‚¹å‡»åè‡ªåŠ¨å¡«å…¥å¹¶è§¦å‘æœç´¢

2. **ç‹¬ç«‹æµ®å±‚æ¨¡å¼**ï¼ˆé™çº§ï¼‰
   - å½“æ— æ³•è·å–åŸç”Ÿå»ºè®®å®¹å™¨æ—¶è‡ªåŠ¨é™çº§
   - æ˜¾ç¤ºä¸ºç‹¬ç«‹çš„æ¯›ç»ç’ƒæµ®å±‚
   - æä¾›å¡«å…¥å’Œå¤åˆ¶åŠŸèƒ½

### è‡ªåŠ¨é™çº§æœºåˆ¶

```
å°è¯•è·å–åŸç”Ÿå»ºè®®å®¹å™¨
  â†“
  æˆåŠŸ? â†’ ä½¿ç”¨åŸç”Ÿé›†æˆæ¨¡å¼
  â†“
  å¤±è´¥? â†’ é™çº§åˆ°ç‹¬ç«‹æµ®å±‚æ¨¡å¼
```

## å„æœç´¢å¼•æ“å®ç°

### Google

**å»ºè®®å®¹å™¨é€‰æ‹©å™¨**:
- `div[role="listbox"]`
- `ul[role="listbox"]`
- `.erkvQe`
- `.aajZCb`

**å»ºè®®é¡¹æ ·å¼**:
- ç±»å: `sbct PZPZlf`
- è“è‰²æ¸å˜èƒŒæ™¯
- å·¦ä¾§è“è‰²è¾¹æ¡†
- å›¾æ ‡ + æ ‡ç­¾ + ç¿»è¯‘æ–‡æœ¬

### Baidu

**å»ºè®®å®¹å™¨é€‰æ‹©å™¨**:
- `#form .bdsug`
- `.bdsug`
- `#form ul`

**å»ºè®®é¡¹æ ·å¼**:
- ç±»å: `bdsug-item`
- è“è‰²æ¸å˜èƒŒæ™¯
- å·¦ä¾§è“è‰²è¾¹æ¡†
- å›¾æ ‡ + æ ‡ç­¾ + ç¿»è¯‘æ–‡æœ¬

### Bing

**å»ºè®®å®¹å™¨é€‰æ‹©å™¨**:
- `.sa_drw`
- `#sa_ul`
- `ul[role="listbox"]`

**å»ºè®®é¡¹æ ·å¼**:
- ç±»å: `sa_sg`
- è“è‰²æ¸å˜èƒŒæ™¯
- å·¦ä¾§è“è‰²è¾¹æ¡†
- å›¾æ ‡ + æ ‡ç­¾ + ç¿»è¯‘æ–‡æœ¬

### GitHub

**å»ºè®®å®¹å™¨é€‰æ‹©å™¨**:
- `.jump-to-suggestions`
- `[data-jump-to-suggestions-results]`
- `.autocomplete-results`

**å»ºè®®é¡¹æ ·å¼**:
- ç±»å: `jump-to-suggestion`
- è“è‰²æ¸å˜èƒŒæ™¯
- å·¦ä¾§è“è‰²è¾¹æ¡†
- å›¾æ ‡ + æ ‡ç­¾ + ç¿»è¯‘æ–‡æœ¬

## è§†è§‰è®¾è®¡

### å»ºè®®é¡¹ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” machine learning tutorial    Search Translate       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â†‘   â†‘                              â†‘
 â”‚   â””â”€ ç¿»è¯‘æ–‡æœ¬                    â””â”€ æ¥æºæ ‡è¯†
 â””â”€â”€â”€â”€â”€ æœç´¢å›¾æ ‡
```

### æ ·å¼ç‰¹ç‚¹

- **æœç´¢å›¾æ ‡**: ğŸ” æ”¾åœ¨æœ€å·¦ä¾§ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæœç´¢å»ºè®®
- **ç¿»è¯‘æ–‡æœ¬**: å±…ä¸­æ˜¾ç¤ºï¼Œå æ®ä¸»è¦ç©ºé—´
- **æ¥æºæ ‡è¯†**: "Search Translate" æ˜¾ç¤ºåœ¨æœ€å³ä¾§ï¼Œå°å­—ç°è‰²
- **æ·¡è‰²èƒŒæ™¯**: æµ…ç°è‰²èƒŒæ™¯ `rgba(248, 249, 250, 0.8)`
- **å·¦ä¾§è¾¹æ¡†**: 3px å®è‰²è¾¹æ¡†ï¼Œä¸æœç´¢å¼•æ“ä¸»é¢˜è‰²åŒ¹é…
- **æ‚¬åœæ•ˆæœ**: èƒŒæ™¯å˜ä¸ºæ·¡è“è‰² `rgba(232, 240, 254, 0.9)`
- **å“ç‰Œè‰²è¾¹æ¡†**: 
  - Google: `#1a73e8`
  - Baidu: `#386dff`
  - Bing: `#0067b8`
  - GitHub: `#1f6feb`

## äº¤äº’è¡Œä¸º

### ç‚¹å‡»å»ºè®®é¡¹

1. å°†ç¿»è¯‘æ–‡æœ¬å¡«å…¥æœç´¢æ¡†
2. è§¦å‘ `input` äº‹ä»¶
3. è‡ªåŠ¨æäº¤æœç´¢è¡¨å•
4. å¼€å§‹æœç´¢

### é”®ç›˜å¯¼èˆª

- å»ºè®®é¡¹æ”¯æŒ `role="option"` å±æ€§
- å¯ä»¥ä½¿ç”¨ä¸Šä¸‹ç®­å¤´é”®é€‰æ‹©
- æŒ‰ Enter é”®è§¦å‘ç‚¹å‡»

## æŠ€æœ¯å®ç°

### é€‚é…å™¨æ¥å£æ‰©å±•

```typescript
interface SearchEngineAdapter {
  // è·å–æœç´¢å»ºè®®å®¹å™¨
  getSuggestionContainer(): HTMLElement | null;
  
  // åˆ›å»ºç¿»è¯‘å»ºè®®é¡¹
  createSuggestionItem(
    translation: string, 
    onClick: () => void
  ): HTMLElement;
}
```

### TranslationManager é€»è¾‘

```typescript
// 1. å°è¯•åŸç”Ÿé›†æˆ
const container = adapter.getSuggestionContainer();
if (container) {
  showInNativeSuggestions(translation, container);
  return;
}

// 2. é™çº§åˆ°ç‹¬ç«‹æµ®å±‚
suggestion.show(translation, input, onFill);
```

## ä¼˜åŠ¿

### ç”¨æˆ·ä½“éªŒ

âœ… æ— ç¼é›†æˆï¼Œä¸æ‰“æ–­æœç´¢æµç¨‹
âœ… ä¸åŸç”Ÿå»ºè®®ä¸€è‡´çš„äº¤äº’æ–¹å¼
âœ… è§†è§‰ä¸Šæ›´åŠ ç»Ÿä¸€
âœ… å‡å°‘ç•Œé¢å…ƒç´ å¹²æ‰°

### æŠ€æœ¯ä¼˜åŠ¿

âœ… è‡ªåŠ¨é™çº§æœºåˆ¶ä¿è¯å…¼å®¹æ€§
âœ… é€‚é…å™¨æ¨¡å¼æ˜“äºæ‰©å±•
âœ… ç¬¦åˆå„æœç´¢å¼•æ“çš„ UI è§„èŒƒ
âœ… æ”¯æŒé”®ç›˜å¯¼èˆªå’Œæ— éšœç¢è®¿é—®

## å…¼å®¹æ€§

### æ”¯æŒçš„æœç´¢å¼•æ“

- âœ… Google (google.com, google.com.hk)
- âœ… Baidu (baidu.com)
- âœ… Bing (bing.com)
- âœ… GitHub (github.com)

### é™çº§åœºæ™¯

ä»¥ä¸‹æƒ…å†µä¼šè‡ªåŠ¨é™çº§åˆ°ç‹¬ç«‹æµ®å±‚æ¨¡å¼ï¼š

- æœç´¢å¼•æ“æ›´æ–°äº† DOM ç»“æ„
- æ— æ³•æ‰¾åˆ°å»ºè®®å®¹å™¨
- å»ºè®®å®¹å™¨ä¸å¯è§
- å…¶ä»– DOM ç›¸å…³é—®é¢˜

## è°ƒè¯•

### æ£€æŸ¥å½“å‰æ¨¡å¼

åœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹æ—¥å¿—ï¼š

```javascript
// åŸç”Ÿé›†æˆæ¨¡å¼
[TranslationManager] Using native integration

// é™çº§æ¨¡å¼
[TranslationManager] Falling back to standalone overlay
```

### å¼ºåˆ¶ä½¿ç”¨ç‹¬ç«‹æµ®å±‚

ä¿®æ”¹ `TranslationManager.ts`:

```typescript
private useNativeIntegration: boolean = false; // ç¦ç”¨åŸç”Ÿé›†æˆ
```

## æœªæ¥æ”¹è¿›

- [ ] æ”¯æŒæ›´å¤šæœç´¢å¼•æ“
- [ ] è‡ªé€‚åº”å»ºè®®é¡¹æ ·å¼
- [ ] æ”¯æŒå¤šä¸ªç¿»è¯‘ç»“æœ
- [ ] æ·»åŠ ç¿»è¯‘æ¥æºæ ‡è¯†ï¼ˆMyMemory/Baiduï¼‰
- [ ] æ”¯æŒè‡ªå®šä¹‰å»ºè®®é¡¹ä½ç½®
